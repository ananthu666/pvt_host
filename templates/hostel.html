<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <title>Hostels</title>
    <link rel="icon" href="./assets/logo.jpg" type="image/png">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,200;1,800&family=Roboto:ital,wght@0,400;0,500;0,700;0,900;1,400&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

    <style>
        body{
            font-family: 'Poppins', sans-serif;
            transition: all 1s ease;
            background-color: #e5e5e5;
            transition: all 1s ease;

        }
        #map{
            width :45vw;
            height : 75vh;
            border-radius: 8px;
        }

        #logo{
            height: 5em;
            filter: invert(100%);
        }




        @media screen and (max-width: 600px) {
            #map
            {
                width :min( 70vw, 70vh);
                height : min(50vh,80vw);
            }
            #logo{
                height: 3rem;
            }
            .title{
                font-size: 1rem;
            
            }
            h6{
                font-size: 0.50rem;
            
            }
            .left{
                margin-top: 1.5rem;
            }
            .card{
                min-width:80vw;
            }
            .coolinput{
                min-width: 60vw;
            }
        
        }
        @media screen and (max-width: 300px) {
            #logo{
                height: 1.75rem;
            }
            .title{
                font-size: 0.75rem;
            
            }
            h6{
                font-size: 0.50rem;
            
            }
            .navbar-toggler-icon{
                height: 1.75rem;
            }

            .card{
                min-width:80vw;
            }
            .rightcont{
                padding: 0rem ;
            }
            
        }

        .main{
            
            padding: 0rem 2rem;
            display: flex;
            gap: 3rem;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap-reverse;
            min-height: 80vh;
        }
        .card {
            padding: 0.75rem 1rem;
            border-radius: 10px;
            width: 100%;
            display: flex;
            flex-direction: row;
            gap: 1rem;
            min-width: 22vw;
          }





          .rightcont{
            display: flex;
            flex-direction: column;
            gap: 1rem;
            justify-content: flex-start;
            align-items: flex-start;
            margin-top: 1rem;


          }

          .right{
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            margin-top: 5px;
            gap: 1rem;
            height: 72vh;
            overflow-y: scroll;
            padding: 1rem 1.5rem;
          }

          .coolinput button{
            border: none;
            background: none;
            color: #8b8ba7;
          }

          .coolinput{
            --timing: 0.3s;
            --width-of-input: 100%;
            --height-of-input: 40px;
            --border-height: 2px;
            --input-bg: #fff;
            --border-color: #2f2ee9;
            --border-radius: 30px;
            --after-border-radius: 1px;
            position: relative;
            width: var(--width-of-input);
            height: var(--height-of-input);
            display: flex;
            align-items: center;
            padding-inline: 0.8em;
            border-radius: var(--border-radius);
            transition: border-radius 0.5s ease;
            background: var(--input-bg,#fff);
            width: 22vw;
            align-self: center;
            
            
          }
          .input {
            font-size: 0.9rem;
            background-color: transparent;
            width: 100%;
            height: 100%;
            padding-inline: 0.5em;
            padding-block: 0.7em;
            border: none;
          }
          .coolinput:before {
            content: "";
            position: absolute;
            background: var(--border-color);
            transform: scaleX(0);
            transform-origin: center;
            width: 100%;
            height: var(--border-height);
            left: 0;
            bottom: 0;
            border-radius: 1px;
            transition: transform var(--timing) ease;
          }
          input:focus {
            outline: none;
          }
          .footer {
            margin-top: 2rem;
            background-color: rgb(28, 28, 28);
            display: flex;
            padding: 5%;
            justify-content: space-between;
            color: white;

        }
        .footer hr {
            border-top: 1px solid;
        }

        .copyright {
            background-color:rgb(28, 28, 28);
            color: white;
            border-top: 1px solid white;
            padding: 10px;
            display: flex;
            justify-content: center;

        }

        button {
            appearance: none;
            background-color: #FAFBFC;
            border: 1px solid rgba(27, 31, 35, 0.15);
            border-radius: 6px;
            box-shadow: rgba(27, 31, 35, 0.04) 0 1px 0, rgba(255, 255, 255, 0.25) 0 1px 0 inset;
            box-sizing: border-box;
            color: #24292E;
            cursor: pointer;
            display: inline-block;
            font-family: -apple-system, system-ui, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
            font-size: 14px;
            font-weight: 500;
            line-height: 20px;
            list-style: none;
            padding: 6px 16px;
            position: relative;
            transition: background-color 0.2s cubic-bezier(0.3, 0, 0.5, 1);
            user-select: none;
            -webkit-user-select: none;
            touch-action: manipulation;
            vertical-align: middle;
            white-space: nowrap;
            word-wrap: break-word;
           }
           
           button:hover {
            background-color: #F3F4F6;
            text-decoration: none;
            transition-duration: 0.1s;
           }
           
           button:disabled {
            background-color: #FAFBFC;
            border-color: rgba(27, 31, 35, 0.15);
            color: #959DA5;
            cursor: default;
           }
           
           button:active {
            background-color: #EDEFF2;
            box-shadow: rgba(225, 228, 232, 0.2) 0 1px 0 inset;
            transition: none 0s;
           }
           
           button:focus {
            outline: 1px transparent;
           }
           
           button:before {
            display: none;
           }
           
           button:-webkit-details-marker {
            display: none;
           }
           ::-webkit-scrollbar-track
            {
                
                background-color: transparent;
            }

            ::-webkit-scrollbar
            {
                width: 5px;
                border-radius: 2px;
                background-color: transparent;
            }

            ::-webkit-scrollbar-thumb
            {
                background-color: #d3d3d3;
                border: none solid #555555;
            }
 

    </style>

</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid" >
            <div  style="display: flex;align-items: center;gap:1rem;">
                <img id="logo" src="./assets/Cet_emblem.png" alt="" >
                <a class="navbar-brand" style="margin-right: 0;"  href="./index.html"><h2 style="margin:  0 0;text-wrap: wrap;" class="title"> <b>PRIVATE HOSTELS </b> </h2><h6 style="text-wrap: wrap;">COLLEGE OF ENGINEERING TRIVANDRUM</h6></a>
            </div>
            
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNavAltMarkup" style="justify-content: end; padding-right: 3rem;">
            <div class="navbar-nav" style="gap: 2rem;">
              <a class="nav-link active" aria-current="page" href="./index.html">Home</a>
              <a class="nav-link" href="#">Hostels</a>
              <a class="nav-link" href="#">PGs</a>
              <a class="nav-link" href="#">About Us</a>
            </div>
          </div>
        </div>
      </nav>
      <div class="main">
          <div class="rightcont">
              <div class="coolinput search-container " id="coolinput">
                  <button>
                      <svg width="17" height="16" fill="none" xmlns="http://www.w3.org/2000/svg" role="img" aria-labelledby="search">
                          <path d="M7.667 12.667A5.333 5.333 0 107.667 2a5.333 5.333 0 000 10.667zM14.334 14l-2.9-2.9" stroke="currentColor" stroke-width="1.333" stroke-linecap="round" stroke-linejoin="round"></path>
                      </svg>
                  </button>
                    <input placeholder="Search here..." class="input" type="text" id="searchInput" oninput="searchHostels()" />
                   
              </div>
                <div class="right" id="right"></div>
        </div>
        <div class="left">        
                <div id="map"></div>
        </div>
      </div>
      <div class="footer">

        <div id="about" class="about">
            <h3>About Us</h3>
            <h6>Welcome to the official website of Private Hostel Committee, an initiative taken by Afin Shafi M
                (University Union Councillor, College Union 23-34).</h6>

        </div>
        <div class="contact">
            <h3>Contact</h3>
            <h6>Afin : 9188370967</h6>
            <h6>Basil : 9495121351</h6>
            <h6></h6>

        </div>



    </div>

    <div class="copyright">
        <h6>copyright@cetcollegeunion 2023</h6>
    </div>

    </div>
    
</body>
<script>
    var myList = {{ my_list | safe }};
</script>

<!-- Include your JavaScript file at the end -->
<script >// Your JSON data

    const jsonData = myList;
    
const markers =[];
const map = L.map('map');   
map.setView([8.5445,76.9041],17) 
L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
}).addTo(map);
var marker = L.marker([8.54311,76.90335]).addTo(map);
marker.bindPopup("<b>Mens Hostel , CET <b>");


var cardContainer = document.getElementById('right');

function renderHostels(hostels) {
    cardContainer.innerHTML = '';

    hostels.forEach(data => {
        var card = document.createElement('div');
        card.className = 'card';

        card.innerHTML = `
            <div class='hostel' style="display:flex; justify-content:center;align-items:center;">
                <img style='height:2.5rem ;width:4rem;object-fit:cover;align-self:flex-start;margin-top:5px' src="https://i.ibb.co/0KKkbpn/hostel.jpg" alt="" />
            </div>
            <div class='details'>
                <h3>${data.name}</h3>
                <p>Vacancy: ${data.vacancy}</p>
                <div class='additional-info' style='display:none;'>
                <p>Phone: ${data.phone}</p>
                <p>Mess Availability: ${data.mess_availability ? 'Yes' : 'No'}</p>
                <p>Distance from College: ${data.distance_from_college} km</p>
                </div>
                <button class='view-more-btn'>View More</button>
            </div>
        `;
        cardContainer.appendChild(card);

        markers[data.id] = L.marker([data.lat, data.lng]).addTo(map);
        markers[data.id].bindPopup(`<b>${data.name}<b>`);

        card.querySelector('.view-more-btn').addEventListener('click', (event) => {
            // Toggle the visibility of additional information
            const additionalInfo = card.querySelector('.additional-info');
            additionalInfo.style.display = additionalInfo.style.display === 'none' ? 'block' : 'none';

            card.querySelector('.view-more-btn').innerText = additionalInfo.style.display === 'none' ? 'View More' : 'View Less';
            // Prevent the card click event from being triggered
            event.stopPropagation();
        });

        card.addEventListener('click', () => {
            // Set the view of the map to the clicked card's location
            map.setView([data.lat, data.lng], 17);
            markers[data.id].openPopup();
        });

        markers[data.id].on('click', () => {
            // Open Google Maps with the marker's location
            const googleMapsUrl = `https://www.google.com/maps?q=${data.lat},${data.lng}`;
            window.open(googleMapsUrl, '_blank');
        });
    });
}


function searchHostels() {
    var searchInput = document.getElementById("searchInput").value.toLowerCase();

    var filteredHostels = jsonData.filter(function (hostel) {
        return hostel.name.toLowerCase().includes(searchInput);
    });

    renderHostels(filteredHostels);
}
    renderHostels(jsonData);
   </script>
</html>